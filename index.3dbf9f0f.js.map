{"mappings":"gBAIAA,EAAe,CAAEC,eAHjB,SAAwBC,GACpB,OAAOC,MAAM,uCAA4CC,OAALF,EAAK,oDAAkDG,MAAK,SAAAC,G,OAAOA,EAAIC,M,MCCzHC,EAAUC,SAASC,cAAc,eACjCC,EAAcF,SAASC,cAAc,iBACrCE,EAAgBH,SAASC,cAAc,iBA2E7CF,EAAQK,iBAAiB,SAzEzB,SAAkBC,GACd,IAAMC,EAAYD,EAAEE,OAAOC,MAAMC,OACf,KAAdH,IACAJ,EAAYQ,UAAY,IAE5BnB,EAAIC,eAAec,GAAWV,MAAK,SAAAe,GAE/B,GADAC,QAAQC,IAAIF,GACRA,EAAKG,OAAS,GACdF,QAAQC,IAAI,mEAEX,GACAF,EAAKH,MAAMO,aAAeT,EAAUS,WAAW,CAC5C,IAAIC,EAAKhB,SAASiB,cAAc,MAChCD,EAAGE,MAAMC,cAAgB,OACzBH,EAAGE,MAAME,QAAU,OACnBJ,EAAGE,MAAMG,WAAa,SAEtB,IAAIC,EAAMtB,SAASiB,cAAc,OACjCK,EAAIJ,MAAME,QAAU,OACpBE,EAAIJ,MAAMK,OAAS,OACnBD,EAAIJ,MAAMM,MAAQ,OAClBF,EAAIJ,MAAMO,YAAc,OACxBH,EAAII,IAAMC,KAAKC,MAAMC,IAErBb,EAAGN,UAAY,OAAkBf,OAAXgB,EAAKH,MAAM,SACjCQ,EAAGc,QAAQR,GACXpB,EAAY6B,OAAOf,E,MAGtB,GAAIL,EAAKG,OAAS,GAAKH,EAAKG,QAAU,GACvCH,EAAKqB,SAAQ,SAAAL,GACT,IAAIX,EAAKhB,SAASiB,cAAc,MAChCD,EAAGE,MAAMC,cAAgB,OACzBH,EAAGE,MAAME,QAAU,OACnBJ,EAAGE,MAAMG,WAAa,SAEtB,IAAIC,EAAMtB,SAASiB,cAAc,OACjCK,EAAIJ,MAAME,QAAU,OACpBE,EAAIJ,MAAMK,OAAS,OACnBD,EAAIJ,MAAMM,MAAQ,OAClBF,EAAIJ,MAAMO,YAAc,OACxBH,EAAII,IAAMC,EAAKC,MAAMC,IAE7Bb,EAAGN,UAAY,OAAwBf,OAAjBgC,EAAKlC,KAAKwC,OAAO,SAC/BjB,EAAGc,QAAQR,GACXpB,EAAY6B,OAAOf,E,SAGpB,GAAoB,IAAhBL,EAAKG,OAAc,CAE1B,IAAIoB,EAAKlC,SAASiB,cAAc,MAC5BkB,EAAMnC,SAASiB,cAAc,OAC7BkB,EAAIjB,MAAMK,OAAS,OACnBY,EAAIjB,MAAMM,MAAQ,OAClBW,EAAIT,IAAMf,EAAKiB,MAAMC,IACrBK,EAAGxB,UACC,gCAEWf,OADFgB,EAAKlB,KAAKwC,OAAO,wCAEZtC,OADHgB,EAAKyB,QAAQ,2CACMzC,OAAhBgB,EAAK0B,WAAW,2BAEtClC,EAAc4B,OAAOI,GACjBhC,EAAc4B,OAAOG,E,MAIR,IAAhBvB,EAAKG,QACNwB,MAAM,qC","sources":["src/js/fetchCountries.js","src/index.js"],"sourcesContent":["\nfunction fetchCountries(name) {\n    return fetch(`https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`).then(res => res.json());\n};\nexport default { fetchCountries };","import './css/styles.css';\nimport API from './js/fetchCountries'\nconst DEBOUNCE_DELAY = 300;\nconst inputEl = document.querySelector(\"#search-box\")\nconst countryList = document.querySelector(\".country-list\")\nconst countryInfoEl = document.querySelector(\".country-info\")\n\nfunction checkApi(e) {\n    const userInput = e.target.value.trim();\n    if (userInput === '') {\n        countryList.innerHTML = '';\n}\n    API.fetchCountries(userInput).then(data => {\n        console.log(data)\n        if (data.length > 10) {\n            console.log('Too many matches found. Please enter a more specific name.');\n        }\n        else if\n            (data.value.toString() === userInput.toString()){\n                let li = document.createElement('li');\n                li.style.listStyleType = \"none\";\n                li.style.display = \"flex\"; \n                li.style.alignItems = \"center\";\n\n                let img = document.createElement('img');\n                img.style.display = \"flex\";\n                img.style.height = '30px';\n                img.style.width = '40px';\n                img.style.marginRight = \"10px\";\n                img.src = item.flags.svg;\n        \n                li.innerHTML = `<p> ${data.value} </p>`; \n                li.prepend(img);\n                countryList.append(li);\n            }\n        \n        else if (data.length > 1 && data.length <= 10) {\n            data.forEach(item => {\n                let li = document.createElement('li');\n                li.style.listStyleType = \"none\";\n                li.style.display = \"flex\"; \n                li.style.alignItems = \"center\";\n\n                let img = document.createElement('img');\n                img.style.display = \"flex\";\n                img.style.height = '30px';\n                img.style.width = '40px';\n                img.style.marginRight = \"10px\";\n                img.src = item.flags.svg;\n\n        li.innerHTML = `<p> ${item.name.common} </p>`; \n                li.prepend(img);\n                countryList.append(li);\n            });\n            \n        } else if (data.length === 1) {\n            //TODO load the countries data\n            let li = document.createElement('li');\n            let img = document.createElement('img');\n                img.style.height = '30px';\n                img.style.width = '40px';\n                img.src = data.flags.svg\n                li.innerHTML =\n                    `\n                <p> Name : ${data.name.common} </p>\n                <p> Capital: ${data.capital} </p>\n                <p> Population: ${data.population} </p>\n                `; \n            countryInfoEl.append(img);\n                countryInfoEl.append(li);\n                \n        }\n        else if\n            (data.length === 0) {\n            alert(\"there is no country with that name\")\n        }\n    });\n}\n//TODO we need to debounce our addEventListener for every 300ms\n\ninputEl.addEventListener('input', checkApi); \n\n\n    \n"],"names":["$57dba802a44d0066$export$2e2bcd8739ae039","fetchCountries","name","fetch","concat","then","res","json","$b8f9b7833fa37166$var$inputEl","document","querySelector","$b8f9b7833fa37166$var$countryList","$b8f9b7833fa37166$var$countryInfoEl","addEventListener","e","userInput","target","value","trim","innerHTML","data","console","log","length","toString","li","createElement","style","listStyleType","display","alignItems","img","height","width","marginRight","src","item","flags","svg","prepend","append","forEach","common","li1","img1","capital","population","alert"],"version":3,"file":"index.3dbf9f0f.js.map"}