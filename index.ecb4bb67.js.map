{"mappings":"IAIAA,EAAe,C,eAHf,SAAwBC,GACpB,OAAOC,MAAM,uCAAuCD,oDAAuDE,MAAKC,GAAOA,EAAIC,Q,GCA/H,MACMC,EAAUC,SAASC,cAAc,eACjCC,EAAcF,SAASC,cAAc,iBACrCE,EAAgBH,SAASC,cAAc,iBA2E7CF,EAAQK,iBAAiB,SAzEzB,SAAkBC,GACd,MAAMC,EAAYD,EAAEE,OAAOC,MAAMC,OACf,KAAdH,IACAJ,EAAYQ,UAAY,IAE5BjB,EAAIkB,eAAeL,GAAWV,MAAKgB,IAE/B,GADAC,QAAQC,IAAIF,GACRA,EAAKG,OAAS,GACdF,QAAQC,IAAI,mEAEX,GACAF,EAAKJ,MAAMQ,aAAeV,EAAUU,WAAW,CAC5C,IAAIC,EAAKjB,SAASkB,cAAc,MAChCD,EAAGE,MAAMC,cAAgB,OACzBH,EAAGE,MAAME,QAAU,OACnBJ,EAAGE,MAAMG,WAAa,SAEtB,IAAIC,EAAMvB,SAASkB,cAAc,OACjCK,EAAIJ,MAAME,QAAU,OACpBE,EAAIJ,MAAMK,OAAS,OACnBD,EAAIJ,MAAMM,MAAQ,OAClBF,EAAIJ,MAAMO,YAAc,OACxBH,EAAII,IAAMC,KAAKC,MAAMC,IAErBb,EAAGP,UAAY,OAAOE,EAAKJ,aAC3BS,EAAGc,QAAQR,GACXrB,EAAY8B,OAAOf,E,MAGtB,GAAIL,EAAKG,OAAS,GAAKH,EAAKG,QAAU,GACvCH,EAAKqB,SAAQL,IACT,IAAIX,EAAKjB,SAASkB,cAAc,MAChCD,EAAGE,MAAMC,cAAgB,OACzBH,EAAGE,MAAME,QAAU,OACnBJ,EAAGE,MAAMG,WAAa,SAEtB,IAAIC,EAAMvB,SAASkB,cAAc,OACjCK,EAAIJ,MAAME,QAAU,OACpBE,EAAIJ,MAAMK,OAAS,OACnBD,EAAIJ,MAAMM,MAAQ,OAClBF,EAAIJ,MAAMO,YAAc,OACxBH,EAAII,IAAMC,EAAKC,MAAMC,IAE7Bb,EAAGP,UAAY,OAAOkB,EAAKlC,KAAKwC,cACxBjB,EAAGc,QAAQR,GACXrB,EAAY8B,OAAOf,EAAG,SAGvB,GAAoB,IAAhBL,EAAKG,OAAc,CAE1B,IAAIE,EAAKjB,SAASkB,cAAc,MAC5BK,EAAMvB,SAASkB,cAAc,OAC7BK,EAAIJ,MAAMK,OAAS,OACnBD,EAAIJ,MAAMM,MAAQ,OAClBF,EAAII,IAAMf,EAAKiB,MAAMC,IACrBb,EAAGP,UACC,gCACSE,EAAKlB,KAAKwC,6CACRtB,EAAKuB,iDACFvB,EAAKwB,oCAE3BjC,EAAc6B,OAAOT,GACjBpB,EAAc6B,OAAOf,E,MAIR,IAAhBL,EAAKG,QACNsB,MAAM,qCAAqC,G","sources":["src/js/fetchCountries.js","src/index.js"],"sourcesContent":["\nfunction fetchCountries(name) {\n    return fetch(`https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`).then(res => res.json());\n};\nexport default { fetchCountries };","import './css/styles.css';\nimport API from './js/fetchCountries'\nconst DEBOUNCE_DELAY = 300;\nconst inputEl = document.querySelector(\"#search-box\")\nconst countryList = document.querySelector(\".country-list\")\nconst countryInfoEl = document.querySelector(\".country-info\")\n\nfunction checkApi(e) {\n    const userInput = e.target.value.trim();\n    if (userInput === '') {\n        countryList.innerHTML = '';\n}\n    API.fetchCountries(userInput).then(data => {\n        console.log(data)\n        if (data.length > 10) {\n            console.log('Too many matches found. Please enter a more specific name.');\n        }\n        else if\n            (data.value.toString() === userInput.toString()){\n                let li = document.createElement('li');\n                li.style.listStyleType = \"none\";\n                li.style.display = \"flex\"; \n                li.style.alignItems = \"center\";\n\n                let img = document.createElement('img');\n                img.style.display = \"flex\";\n                img.style.height = '30px';\n                img.style.width = '40px';\n                img.style.marginRight = \"10px\";\n                img.src = item.flags.svg;\n        \n                li.innerHTML = `<p> ${data.value} </p>`; \n                li.prepend(img);\n                countryList.append(li);\n            }\n        \n        else if (data.length > 1 && data.length <= 10) {\n            data.forEach(item => {\n                let li = document.createElement('li');\n                li.style.listStyleType = \"none\";\n                li.style.display = \"flex\"; \n                li.style.alignItems = \"center\";\n\n                let img = document.createElement('img');\n                img.style.display = \"flex\";\n                img.style.height = '30px';\n                img.style.width = '40px';\n                img.style.marginRight = \"10px\";\n                img.src = item.flags.svg;\n\n        li.innerHTML = `<p> ${item.name.common} </p>`; \n                li.prepend(img);\n                countryList.append(li);\n            });\n            \n        } else if (data.length === 1) {\n            //TODO load the countries data\n            let li = document.createElement('li');\n            let img = document.createElement('img');\n                img.style.height = '30px';\n                img.style.width = '40px';\n                img.src = data.flags.svg\n                li.innerHTML =\n                    `\n                <p> Name : ${data.name.common} </p>\n                <p> Capital: ${data.capital} </p>\n                <p> Population: ${data.population} </p>\n                `; \n            countryInfoEl.append(img);\n                countryInfoEl.append(li);\n                \n        }\n        else if\n            (data.length === 0) {\n            alert(\"there is no country with that name\")\n        }\n    });\n}\n//TODO we need to debounce our addEventListener for every 300ms\n\ninputEl.addEventListener('input', checkApi); \n\n\n    \n"],"names":["$b8db4ffe7b39e3b7$export$2e2bcd8739ae039","name","fetch","then","res","json","$1f0dc3b9307be026$var$inputEl","document","querySelector","$1f0dc3b9307be026$var$countryList","$1f0dc3b9307be026$var$countryInfoEl","addEventListener","e","userInput","target","value","trim","innerHTML","fetchCountries","data","console","log","length","toString","li","createElement","style","listStyleType","display","alignItems","img","height","width","marginRight","src","item","flags","svg","prepend","append","forEach","common","capital","population","alert"],"version":3,"file":"index.ecb4bb67.js.map"}